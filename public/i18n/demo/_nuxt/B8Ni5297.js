import{o as r,c,a as s,f as $,af as B,N as V,O as A,r as M,$ as N,l as f,X as R,Y as D,t as u,b as q,x as l,a1 as I,al as U,ai as Z,a3 as j,H as z,I as E,ag as F}from"./nrRp7zWi.js";import{u as H}from"./YiMp1jHT.js";function O(m,y){return r(),c("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[s("path",{"fill-rule":"evenodd",d:"M9 3.5a5.5 5.5 0 1 0 0 11 5.5 5.5 0 0 0 0-11ZM2 9a7 7 0 1 1 12.452 4.391l3.328 3.329a.75.75 0 1 1-1.06 1.06l-3.329-3.328A7 7 0 0 1 2 9Z","clip-rule":"evenodd"})])}const P={class:"flex justify-between items-end text-base font-semibold leading-6 text-gray-900 w-full pr-5"},X={for:"default-search",class:"mb-2 text-sm font-medium text-gray-900 sr-only dark:text-white"},Y={class:"relative"},G={class:"absolute inset-y-0 start-0 flex items-center ps-3 pointer-events-none"},J=["placeholder"],K={key:0,class:"text-gray-500 font-medium text-xs"},Q={class:"max-h-screen min-h-screen overflow-y-scroll mt-4 divide-y divide-gray-200 border-b border-t border-gray-200 pr-5"},W={class:"min-w-0 flex-1 text-sm leading-6"},ee=["for"],te={class:"ml-3 flex h-6 items-center"},se=["id","name","checked","disabled","onChange"],oe=$({__name:"LanguageSelector.client",props:{single:{type:Boolean}},emits:["languagesUpdated"],setup(m,{emit:y}){const{toast:g}=B(),{t:n}=V(),p=H(),{resetLanguages:w,toggleAllLanguages:b}=p,{languages:o,checkedLanguages:v}=A(p),{single:h}=m,i=M(),{data:S}=N(),_=f(()=>{var e;return(e=S.value)==null?void 0:e.user.is_subscribed}),d=f(()=>!_.value&&v.value.length>=2),L=e=>{e&&(e.code==="all"&&!_.value?T():e.code==="all"&&!h?b(!e.checked):h?(b(!1),e.checked=!e.checked):!e.checked&&d.value?(k(),e.checked=!1):e.checked=!e.checked)},k=()=>{g({title:n("languageSelector.limitReached"),description:n("languageSelector.limitedToTwo")})},T=()=>{g({title:n("languageSelector.disabled"),description:n("languageSelector.translatingAllRequiredPaid")})},C=f(()=>{var a,t;const e=(a=o.value)==null?void 0:a.filter(x=>x.title.toLowerCase().includes(i.value));return e&&e.length>0?e:h?(t=o.value)==null?void 0:t.slice(1):o.value});return R(()=>{w()}),D(d,(e,a)=>{e===!0&&k()}),(e,a)=>(r(),c("fieldset",null,[s("legend",P,[s("p",null,u(e.$t("languageSelector.language")),1),s("form",null,[s("label",X,u(e.$t("languageSelector.search")),1),s("div",Y,[s("div",G,[q(l(O),{class:"h-5 w-5 text-gray-400","aria-hidden":"true"})]),I(s("input",{"onUpdate:modelValue":a[0]||(a[0]=t=>Z(i)?i.value=t:null),type:"search",id:"default-search",class:"block w-full ps-10 text-sm font-normal text-black border border-gray-300 rounded-lg bg-white focus:ring-black focus:border-black",placeholder:e.$t("languageSelector.searchLanguages"),autocomplete:"off",required:""},null,8,J),[[U,l(i)]])])]),l(o)&&!e.single?(r(),c("p",K,u(`${l(v).length} / ${l(o).length}`),1)):j("",!0)]),s("div",Q,[(r(!0),c(z,null,E(l(C),(t,x)=>(r(),c("div",{key:t.code,class:"relative flex items-start py-4"},[s("div",W,[s("label",{for:t.code,class:"select-none font-medium text-gray-900"},u(t.title),9,ee)]),s("div",te,[s("input",{id:t.code,name:t.code,checked:t.checked,disabled:!t.checked&&l(d),type:"checkbox",class:F(["h-4 w-4 rounded border-gray-300 text-black focus:ring-black",{"cursor-pointer":t.checked&&l(d)}]),onChange:()=>L(t)},null,42,se)])]))),128))])]))}});export{oe as _};
